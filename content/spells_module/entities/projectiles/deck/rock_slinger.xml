<Entity name="rock_formation_caster" tags="projectile,rock_slinger_caster">
  <!-- Keep it stationary & ignore gravity -->
  
  
  
  <Base file="data/entities/base_projectile.xml">
    <VelocityComponent gravity_y="0" />
    <ProjectileComponent
      speed_min="0"
      speed_max="0"
      on_death_explode="0"
      die_on_low_velocity="0"
      lifetime="120" />
  </Base>


 
  <ParticleEmitterComponent
    emitted_material_name="cement"
    emission_interval_min_frames="1"
    emission_interval_max_frames="2"
    gravity.y="0.0"
  	lifetime_min="0.1"
	  lifetime_max="0.1"
  	count_min="1"
	  count_max="3"
    x_pos_offset_min="0"
		x_pos_offset_max="2"
		y_pos_offset_min="0"
		y_pos_offset_max="2"
		x_vel_min="-5"
		x_vel_max="0"
		y_vel_min="-5"
		y_vel_max="0"
    
    fade_based_on_lifetime="1"
    emit_cosmetic_particles="1"
    create_real_particles="0"
    is_emitting="1" />

    <ParticleEmitterComponent
    emitted_material_name="cement"
    emission_interval_min_frames="1"
    emission_interval_max_frames="2"
    gravity.y="0.0"
	  lifetime_min="0.1"
	  lifetime_max="0.1"
	  count_min="1"
  	count_max="3"
    x_pos_offset_min="-2"
		x_pos_offset_max="0"
		y_pos_offset_min="-2"
		y_pos_offset_max="0"
		x_vel_min="0"
		x_vel_max="5"
		y_vel_min="0"
		y_vel_max="5"
    
    fade_based_on_lifetime="1"
    emit_cosmetic_particles="1"
    create_real_particles="0"
    is_emitting="1" />

  <!-- Logic: wait for particle-animation/delay, then fire real projectile -->
  <LuaComponent
    script_source_file="mods/noita.thingsmod/content/spells_module/scripts/projectiles/rock_slinger.lua"
    execute_every_n_frame="1" />



  <VariableStorageComponent
		name="projectile_file"
		value_string="mods/noita.thingsmod/content/spells_module/entities/projectiles/deck/rock_slinger.xml"
	>
	</VariableStorageComponent>
</Entity>
