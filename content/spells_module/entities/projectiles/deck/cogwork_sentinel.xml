<Entity name="$spell_thingsmod_cogwork_sentinel_name" >
  
	<Base file="data/entities/base_enemy_flying.xml" >
		<AnimalAIComponent
			attack_melee_enabled="0"
			attack_ranged_enabled="1"
			attack_ranged_entity_file="mods/noita.thingsmod/content/spells_module/entities/projectiles/deck/cogwork_sentinel_projectile.xml"
			attack_ranged_action_frame="1"
			attack_ranged_frames_between="60" 
			attack_ranged_max_distance="250"
			attack_ranged_offset_y="0"
			escape_if_damaged_probability="0"
			needs_food="0"
			can_fly="1" >
		</AnimalAIComponent>

		<DamageModelComponent 
            hp="8"
			air_needed="0"
	  		minimum_knockback_force="100000"
			fire_probability_of_ignition="0" 
			ragdollify_child_entity_sprites="0"
            ragdoll_material="meat_slime_green"
		    ragdoll_fx_forced="DISINTEGRATED"
            ragdoll_filenames_file="" 
			blood_material="plasma_fading"
			blood_spray_material="plasma_fading"
			blood_sprite_directional="data/particles/bloodsplatters/bloodsplatter_directional_yellow_$[1-3].xml"
			blood_sprite_large="data/particles/bloodsplatters/bloodsplatter_yellow_$[1-3].xml"
			materials_that_damage="lava,poison,blood_cold,blood_cold_vapour,acid" 
			materials_how_much_damage="0.004,0.001,0.0008,0.0007,0.005"
			>
		</DamageModelComponent>

		<PathFindingComponent
			can_fly="1" 
			can_walk="0"
			>
		</PathFindingComponent>

		<SpriteComponent 
			image_file="mods/noita.thingsmod/content/spells_module/enemies_gfx/cogwork_sentinel.png"
			emissive="1"
			additive="1"
			offset_x="14.5"
			offset_y="14.5" >
		</SpriteComponent>
		
		<HitboxComponent 
			_enabled="1" 
			aabb_min_x="-6" 
			aabb_max_x="6" 
			aabb_min_y="-6" 
			aabb_max_y="6" 
			is_enemy="1" 
			is_item="0" 
			is_player="0" >
		</HitboxComponent>
		
		<CharacterPlatformingComponent 
			jump_velocity_y="-10" 
			run_velocity="20"  
			fly_speed_max_up="40"
			fly_speed_max_down="40"
			fly_speed_mult="10"
			fly_speed_change_spd="1"
			swim_idle_buoyancy_coeff="0.8"
			fly_velocity_x="40">
		</CharacterPlatformingComponent>
		
		<GenomeDataComponent 
			herd_id="player"
			food_chain_rank="1"
			is_predator="1"
			berserk_dont_attack_friends="1" >
		</GenomeDataComponent>
		
		<CharacterDataComponent
			collision_aabb_min_x="-6" 
			collision_aabb_max_x="6" 
			collision_aabb_min_y="-6" 
			collision_aabb_max_y="6" 
			mass="0.3"
			>
		</CharacterDataComponent>
	</Base>

	<SpriteComponent 
		image_file="mods/noita.thingsmod/content/spells_module/enemies_gfx/cogwork_sentinel.png"
		emissive="1"
		additive="1"
		offset_x="14.5"
		offset_y="14.5"
		update_transform_rotation="0"
		>
	</SpriteComponent>

	<SpriteComponent 
		image_file="mods/noita.thingsmod/content/spells_module/enemies_gfx/cogwork_sentinel_eye.png"
		emissive="1"
		additive="1"
		offset_x="14.5"
		offset_y="14.5"
		update_transform_rotation="0"
		>
	</SpriteComponent>

	<ProjectileComponent 
		_enabled="0" 
		lob_min="0.8"
		lob_max="1.0"
		speed_min="50"
		speed_max="75"
		die_on_low_velocity="0"
		on_death_explode="1"
		on_death_gfx_leave_sprite="0" 
		on_lifetime_out_explode="1"
		explosion_dont_damage_shooter="1"
		damage="0.0"
		on_collision_die="1"
		lifetime="600" 
		knockback_force="1.0"
		>
		<damage_by_type
			fire="0.0"
			>
		</damage_by_type>
		<config_explosion
		never_cache="0" 
		camera_shake="4" 
		explosion_radius="6"
		explosion_sprite="data/particles/explosion_032_plasma.xml" 
		explosion_sprite_lifetime="0" 
		create_cell_probability="100" 
		hole_destroy_liquid="0"
		explosion_sprite_emissive="1"
		explosion_sprite_additive="1"
		hole_enabled="1" 
		ray_energy="10000"
		damage="0"
		particle_effect="0"
		damage_mortals="1"
		physics_explosion_power.min="0.18"   
		physics_explosion_power.max="0.2"
		physics_throw_enabled="1"
		shake_vegetation="1" 
		spark_material="plasma_fading"
		sparks_count_min="4" 
		sparks_count_max="10" 
		sparks_enabled="1" 
		stains_enabled="1"
		stains_radius="12" >
		</config_explosion>
	</ProjectileComponent>
	
	<ParticleEmitterComponent 
	emitted_material_name="plasma_fading"
	count_min="1"
	count_max="4"
	offset.x="0"
	offset.y="0"
	x_pos_offset_min="-2"
	y_pos_offset_min="-2"
	x_pos_offset_max="2"
	y_pos_offset_max="2"
	x_vel_min="-10"
	x_vel_max="10"
	y_vel_min="-10"
	y_vel_max="10"
	count_min="5"
	count_max="5"
	lifetime_min="0.4"
	lifetime_max="1.0"
	create_real_particles="1"
	emit_cosmetic_particles="0"
	emission_interval_min_frames="2"
	emission_interval_max_frames="3"
	is_emitting="1" >
	</ParticleEmitterComponent>

	<LuaComponent
		script_source_file="mods/noita.thingsmod/content/spells_module/scripts/animals/cogwork_sentinel.lua"
		script_shot="mods/noita.thingsmod/content/spells_module/scripts/animals/cogwork_sentinel.lua"
		execute_every_n_frame="1"
	>
	</LuaComponent>

	<VariableStorageComponent
		name="sentinel_data"
		value_int="0"
	>
	</VariableStorageComponent>

	<LightComponent 
		_enabled="1" 
		radius="100" 
		r="200"
		g="200"
		b="255"
		fade_out_time="1.5"
		>
	</LightComponent>
	
	<AudioComponent
		file="data/audio/Desktop/animals.bank"
		event_root="animals/spearbot" >
	</AudioComponent>
</Entity>